Produit(#reference : varchar, prixReference : float, description : varchar, extensionGarantie : boolean, consommation : integer, marque=>Marque, #sousCategorie=>SousCategorie) avec prixReference NOT NULL, prixReference>0, description NOT NULL, marque NOT NULL, sousCategorie NOT NULL, extensionGarantie NOT NULL

ProduitCompatibleProduit(#Produit1=>Produit, #Produit2=>Produit)

Marque(#nom : varchar)

Categorie(#nom : varchar) 

SousCategorie(#nom : varchar, #categorie=>Categorie) 

OccurenceProduit(#numeroDeSerie : integer, prixAffiche : float, referenceProduit=>Produit, fournisseur=>Fournisseur) avec prixAffiche NOT NULL, prixAffiche>0, referenceProduit NOT NULL, fournisseur NOT NULL

Facture(#numeroFacture : integer, totalsansRemise : float, remise : float, supplement : float, client=>Client, personnel=>PersonnelVente) avec totalsansRemise NOT NULL, remise NOT NULL, supplement NOT NULL, client NOT NULL, personnel NOT NULL

FactureOccurenceProduit(#facture=>Facture, #produit=>OccurenceProduit)

PROJECTION(FactureOccurenceProduit, facture) = PROJECTION(Facture, numeroFacture)

Fournisseur(#nom : varchar)

Client(#nom : varchar, #prenom : varchar, #dateNaissance : varchar, adresseMail : varchar, typeClient : varchar) avec typeClient=Professionel OR typeClient=Particulier

PROJECTION(Client, nom) = PROJECTION(Facture,client)

PersonnelAchat(#idPersonnel: integer, nom : varchar, prenom : varchar)

PersonnelVente(#idPersonnel: integer, nom : varchar, prenom : varchar)

PersonnelSAV(#idPersonnel: integer, nom : varchar, prenom : varchar)

PersonnelReparation(#idPersonnel: integer, nom : varchar, prenom : varchar)

vPersonnel=UNION(PROJECTION(PersonnelAchat,idPersonnel,nom, prenom), PROJECTION(PersonnelVente,idPersonnel,nom, prenom), PROJECTION(PersonnelSAV,idPersonnel,nom, prenom), PROJECTION(PersonnelReparation,idPersonnel,nom, prenom))

TicketPriseEnCharge(#numeroTicket: integer, date : varchar, ticketTraité : boolean, produit=>OccurenceProduit, personnel=>PersonnelSAV) avec date NOT NULL, produit NOT NULL, personnel NOT NULL

BonDeCommande(#numeroBonDeCommande: integer, date : varchar, quantite : integer, prixUnitaire : float, bonTraité : boolean, produit=>Produit, personnelQuiCree=>PersonnelVente, personnelQuiValide=>PersonnelAchat) avec produit NOT NULL, date NOT NULL, personnelQuiCree NOT NULL, personnelQuiValide NOT NULL, prixUnitaire NOT NULL, quantite NOT NULL, prixUnitaire >0, quantite>0

Reparation(#numeroReparation : integer, tempsPassé : float, materielUtilisé : varchar, ticketPriseEnCharge=>TicketPriseEnCharge, facture=>Facture) avec tempsPassé NOT NULL, ticketPriseEnCharge UNIQUE NOT NULL, facture UNIQUE NOT NULL

Reprise(#numeroReprise : integer, contrePartie : varchar, ticketPriseEnCharge=>TicketPriseEnCharge, facture=>Facture) avec ticketPriseEnCharge UNIQUE NOT NULL, facture UNIQUE NOT NULL

Vente(#numeroVente : integer, installationRequise : boolean, facture=>Facture) avec facture UNIQUE NOT NULL, installationRequise NOT NULL

INTERSECTION(PROJECTION(Reparation, ticketPriseEnCharge), PROJECTION(Reprise, ticketPriseEnCharge))={}

INTERSECTION(PROJECTION(Reparation, facture), PROJECTION(Reprise, facture), PROJECTION(Vente, facture))={}
